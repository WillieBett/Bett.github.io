<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Spring GraphQL server based on webflux - Part 2 - Spring GraphQL on Webflux - DevSpot Blog</title>
<meta name="description" content="Retro  In Part 1 we introduced the general topics of reactive programming, webflux, GraphQL and R2DBC.  Spring starter  Let’s start with a standard Spring start setup.     Project: Maven   Language: Java (17)   Spring: 2.6.0 (RC1)   Dependencies:     Lombok   Spring reactive web   Spring Data R2DBC   H2 Database   The Maven pom.xml looks now like this:  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; 	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; 	&lt;parent&gt; 		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 		&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; 		&lt;version&gt;2.6.0-RC1&lt;/version&gt; 		&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; 	&lt;/parent&gt; 	&lt;groupId&gt;com.example&lt;/groupId&gt; 	&lt;artifactId&gt;demo&lt;/artifactId&gt; 	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; 	&lt;name&gt;demo&lt;/name&gt; 	&lt;description&gt;Demo project for Spring Boot&lt;/description&gt; 	&lt;properties&gt; 		&lt;java.version&gt;11&lt;/java.version&gt; 	&lt;/properties&gt; 	&lt;dependencies&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 			&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 			&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt; 		&lt;/dependency&gt;  		&lt;dependency&gt; 			&lt;groupId&gt;com.h2database&lt;/groupId&gt; 			&lt;artifactId&gt;h2&lt;/artifactId&gt; 			&lt;scope&gt;runtime&lt;/scope&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;io.r2dbc&lt;/groupId&gt; 			&lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt; 			&lt;scope&gt;runtime&lt;/scope&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt; 			&lt;artifactId&gt;lombok&lt;/artifactId&gt; 			&lt;optional&gt;true&lt;/optional&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 			&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; 			&lt;scope&gt;test&lt;/scope&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;io.projectreactor&lt;/groupId&gt; 			&lt;artifactId&gt;reactor-test&lt;/artifactId&gt; 			&lt;scope&gt;test&lt;/scope&gt; 		&lt;/dependency&gt; 	&lt;/dependencies&gt;  	&lt;build&gt; 		&lt;plugins&gt; 			&lt;plugin&gt; 				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; 				&lt;configuration&gt; 					&lt;excludes&gt; 						&lt;exclude&gt; 							&lt;groupId&gt;org.projectlombok&lt;/groupId&gt; 							&lt;artifactId&gt;lombok&lt;/artifactId&gt; 						&lt;/exclude&gt; 					&lt;/excludes&gt; 				&lt;/configuration&gt; 			&lt;/plugin&gt; 		&lt;/plugins&gt; 	&lt;/build&gt; 	&lt;repositories&gt; 		&lt;repository&gt; 			&lt;id&gt;spring-milestones&lt;/id&gt; 			&lt;name&gt;Spring Milestones&lt;/name&gt; 			&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; 			&lt;snapshots&gt; 				&lt;enabled&gt;false&lt;/enabled&gt; 			&lt;/snapshots&gt; 		&lt;/repository&gt; 	&lt;/repositories&gt; 	&lt;pluginRepositories&gt; 		&lt;pluginRepository&gt; 			&lt;id&gt;spring-milestones&lt;/id&gt; 			&lt;name&gt;Spring Milestones&lt;/name&gt; 			&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; 			&lt;snapshots&gt; 				&lt;enabled&gt;false&lt;/enabled&gt; 			&lt;/snapshots&gt; 		&lt;/pluginRepository&gt; 	&lt;/pluginRepositories&gt;  &lt;/project&gt;   Adding Spring GraphQL  The Spring GraphQL Team added a Spring starter project:  &lt;dependencies&gt;      // Spring GraphQL Boot starter     &lt;dependency&gt;         &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;         &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;         &lt;version&gt;1.0.0-M3&lt;/version&gt;     &lt;/dependency&gt;      &lt;!-- ... --&gt;  &lt;/dependencies&gt;  &lt;!-- For Spring project milestones or snapshot releases --&gt; &lt;repositories&gt;     &lt;repository&gt;         &lt;id&gt;spring-milestones&lt;/id&gt;         &lt;name&gt;Spring Milestones&lt;/name&gt;         &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;     &lt;/repository&gt;     &lt;repository&gt;         &lt;id&gt;spring-snapshots&lt;/id&gt;         &lt;name&gt;Spring Snapshots&lt;/name&gt;         &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;         &lt;snapshots&gt;             &lt;enabled&gt;true&lt;/enabled&gt;         &lt;/snapshots&gt;     &lt;/repository&gt; &lt;/repositories&gt;   After adding this to the project we can start the implementation.  Schema creation  Following the schema first principle we will first add a GraphQL query for fetching companies:  type Query {   companies: [Company] }  type Company {   id: ID   name: String }   The type “Query” is the root for all GraphQL queries (for more details see The Query and Mutation types). The type companies will return a list of items of the type Company.  Company itself has two attributes:     ID =&gt; Numeric identifier of the company   name =&gt; The name of the company   This schema will be stored in the file schema.graphqlsin the folder src/main/resources/graphql.  GraphQL Controller  The controller can simply be added by adding a @Controller annotation to the class. The most simple way to add the endpoint is to create a method inside this class with the same name like the name in the Query block of the schema: companies  This method will be annotated with @QueryMapping:  package arne.kroeger.springgraphqlwebfluxtestproject;  import org.springframework.data.annotation.Id; import org.springframework.graphql.data.method.annotation.QueryMapping; import org.springframework.stereotype.Controller;  import reactor.core.publisher.Flux;  @Controller public class CompanyController {      @QueryMapping     public Flux&lt;Company&gt; companies() {         return Flux.just(new Company(1L, &quot;Company A&quot;), new Company(2L, &quot;Company B&quot;));     }  }  record Company(@Id Long id, String name) {  }   If you need more details on how to handle Reactor types like Flux and Mono check out the following links:     Reactor Documentation   Intro To Reactor Core by Baeldung   GraphiQL editor  The GraphiQL editor allows an easy access to the created API and delivers query editor, documentation and formatting options.  It is automatically delivered with the Spring GraphQL starter via the url http://localhost:8080/graphiql.    Summary  What we have achieved:     Setup of the Maven project via Spring starter   Adding experimental Spring GraphQL starter to the project   Creation of a GraphQL schema   Implementing a GraphQL Query endpoint as a Spring controller   In Part 3 we will connect the Controller to the database via R2DBC.">


  <meta name="author" content="Wilfred Bett">
  
  <meta property="article:author" content="Wilfred Bett">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="DevSpot Blog">
<meta property="og:title" content="Spring GraphQL server based on webflux - Part 2 - Spring GraphQL on Webflux">
<meta property="og:url" content="https://Williebett.github.io/spring-webflux-graphql-tutorial/2021/11/14/reactive-programming-with-spring-webflux-02-getting-started.html">


  <meta property="og:description" content="Retro  In Part 1 we introduced the general topics of reactive programming, webflux, GraphQL and R2DBC.  Spring starter  Let’s start with a standard Spring start setup.     Project: Maven   Language: Java (17)   Spring: 2.6.0 (RC1)   Dependencies:     Lombok   Spring reactive web   Spring Data R2DBC   H2 Database   The Maven pom.xml looks now like this:  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; 	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; 	&lt;parent&gt; 		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 		&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; 		&lt;version&gt;2.6.0-RC1&lt;/version&gt; 		&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; 	&lt;/parent&gt; 	&lt;groupId&gt;com.example&lt;/groupId&gt; 	&lt;artifactId&gt;demo&lt;/artifactId&gt; 	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; 	&lt;name&gt;demo&lt;/name&gt; 	&lt;description&gt;Demo project for Spring Boot&lt;/description&gt; 	&lt;properties&gt; 		&lt;java.version&gt;11&lt;/java.version&gt; 	&lt;/properties&gt; 	&lt;dependencies&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 			&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 			&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt; 		&lt;/dependency&gt;  		&lt;dependency&gt; 			&lt;groupId&gt;com.h2database&lt;/groupId&gt; 			&lt;artifactId&gt;h2&lt;/artifactId&gt; 			&lt;scope&gt;runtime&lt;/scope&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;io.r2dbc&lt;/groupId&gt; 			&lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt; 			&lt;scope&gt;runtime&lt;/scope&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt; 			&lt;artifactId&gt;lombok&lt;/artifactId&gt; 			&lt;optional&gt;true&lt;/optional&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 			&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; 			&lt;scope&gt;test&lt;/scope&gt; 		&lt;/dependency&gt; 		&lt;dependency&gt; 			&lt;groupId&gt;io.projectreactor&lt;/groupId&gt; 			&lt;artifactId&gt;reactor-test&lt;/artifactId&gt; 			&lt;scope&gt;test&lt;/scope&gt; 		&lt;/dependency&gt; 	&lt;/dependencies&gt;  	&lt;build&gt; 		&lt;plugins&gt; 			&lt;plugin&gt; 				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; 				&lt;configuration&gt; 					&lt;excludes&gt; 						&lt;exclude&gt; 							&lt;groupId&gt;org.projectlombok&lt;/groupId&gt; 							&lt;artifactId&gt;lombok&lt;/artifactId&gt; 						&lt;/exclude&gt; 					&lt;/excludes&gt; 				&lt;/configuration&gt; 			&lt;/plugin&gt; 		&lt;/plugins&gt; 	&lt;/build&gt; 	&lt;repositories&gt; 		&lt;repository&gt; 			&lt;id&gt;spring-milestones&lt;/id&gt; 			&lt;name&gt;Spring Milestones&lt;/name&gt; 			&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; 			&lt;snapshots&gt; 				&lt;enabled&gt;false&lt;/enabled&gt; 			&lt;/snapshots&gt; 		&lt;/repository&gt; 	&lt;/repositories&gt; 	&lt;pluginRepositories&gt; 		&lt;pluginRepository&gt; 			&lt;id&gt;spring-milestones&lt;/id&gt; 			&lt;name&gt;Spring Milestones&lt;/name&gt; 			&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; 			&lt;snapshots&gt; 				&lt;enabled&gt;false&lt;/enabled&gt; 			&lt;/snapshots&gt; 		&lt;/pluginRepository&gt; 	&lt;/pluginRepositories&gt;  &lt;/project&gt;   Adding Spring GraphQL  The Spring GraphQL Team added a Spring starter project:  &lt;dependencies&gt;      // Spring GraphQL Boot starter     &lt;dependency&gt;         &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;         &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;         &lt;version&gt;1.0.0-M3&lt;/version&gt;     &lt;/dependency&gt;      &lt;!-- ... --&gt;  &lt;/dependencies&gt;  &lt;!-- For Spring project milestones or snapshot releases --&gt; &lt;repositories&gt;     &lt;repository&gt;         &lt;id&gt;spring-milestones&lt;/id&gt;         &lt;name&gt;Spring Milestones&lt;/name&gt;         &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;     &lt;/repository&gt;     &lt;repository&gt;         &lt;id&gt;spring-snapshots&lt;/id&gt;         &lt;name&gt;Spring Snapshots&lt;/name&gt;         &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;         &lt;snapshots&gt;             &lt;enabled&gt;true&lt;/enabled&gt;         &lt;/snapshots&gt;     &lt;/repository&gt; &lt;/repositories&gt;   After adding this to the project we can start the implementation.  Schema creation  Following the schema first principle we will first add a GraphQL query for fetching companies:  type Query {   companies: [Company] }  type Company {   id: ID   name: String }   The type “Query” is the root for all GraphQL queries (for more details see The Query and Mutation types). The type companies will return a list of items of the type Company.  Company itself has two attributes:     ID =&gt; Numeric identifier of the company   name =&gt; The name of the company   This schema will be stored in the file schema.graphqlsin the folder src/main/resources/graphql.  GraphQL Controller  The controller can simply be added by adding a @Controller annotation to the class. The most simple way to add the endpoint is to create a method inside this class with the same name like the name in the Query block of the schema: companies  This method will be annotated with @QueryMapping:  package arne.kroeger.springgraphqlwebfluxtestproject;  import org.springframework.data.annotation.Id; import org.springframework.graphql.data.method.annotation.QueryMapping; import org.springframework.stereotype.Controller;  import reactor.core.publisher.Flux;  @Controller public class CompanyController {      @QueryMapping     public Flux&lt;Company&gt; companies() {         return Flux.just(new Company(1L, &quot;Company A&quot;), new Company(2L, &quot;Company B&quot;));     }  }  record Company(@Id Long id, String name) {  }   If you need more details on how to handle Reactor types like Flux and Mono check out the following links:     Reactor Documentation   Intro To Reactor Core by Baeldung   GraphiQL editor  The GraphiQL editor allows an easy access to the created API and delivers query editor, documentation and formatting options.  It is automatically delivered with the Spring GraphQL starter via the url http://localhost:8080/graphiql.    Summary  What we have achieved:     Setup of the Maven project via Spring starter   Adding experimental Spring GraphQL starter to the project   Creation of a GraphQL schema   Implementing a GraphQL Query endpoint as a Spring controller   In Part 3 we will connect the Controller to the database via R2DBC.">







  <meta property="article:published_time" content="2021-11-14T08:22:49+00:00">






<link rel="canonical" href="reactive-programming-with-spring-webflux-02-getting-started.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://WillieBett.github.io/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="../../../../feed.xml" type="application/atom+xml" rel="alternate" title="DevSpot Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="iQmBHY4zMRZ_l9UtTX1g3jw_xuALLSn3nsgd51ckEPk" />

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="../../../../assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="reactive-programming-with-spring-webflux-02-getting-started.html#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="reactive-programming-with-spring-webflux-02-getting-started.html#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="reactive-programming-with-spring-webflux-02-getting-started.html#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="../../../../index.html">
          DevSpot Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="../../../../about.html">About</a>
            </li><li class="masthead__menu-item">
              <a href="../../../../legal-notice.html">Legal Notice & Privacy</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="../../../../index.html" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="../../../../categories/index.html#spring-webflux-graphql-tutorial" itemprop="item"><span itemprop="name">Spring webflux graphql tutorial</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="../../../../categories/index.html#2021" itemprop="item"><span itemprop="name">2021</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="../../../../categories/index.html#11" itemprop="item"><span itemprop="name">11</span></a>
          <meta itemprop="position" content="4" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="../../../../categories/index.html#14" itemprop="item"><span itemprop="name">14</span></a>
          <meta itemprop="position" content="5" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Spring GraphQL server based on webflux - Part 2 - Spring GraphQL on Webflux</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="../../../../assets/images/Bett.jpg" alt="Wilfred Bett" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Wilfred Bett</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Exploring the world in code.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://github.com/WillieBett/" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/WillieBett" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Spring GraphQL server based on webflux - Part 2 - Spring GraphQL on Webflux">
    <meta itemprop="description" content="RetroIn Part 1 we introduced the general topics of reactive programming, webflux, GraphQL and R2DBC.Spring starterLet’s start with a standard Spring start setup.  Project: Maven  Language: Java (17)  Spring: 2.6.0 (RC1)Dependencies:  Lombok  Spring reactive web  Spring Data R2DBC  H2 DatabaseThe Maven pom.xml looks now like this:&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;	&lt;parent&gt;		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;		&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;		&lt;version&gt;2.6.0-RC1&lt;/version&gt;		&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;	&lt;/parent&gt;	&lt;groupId&gt;com.example&lt;/groupId&gt;	&lt;artifactId&gt;demo&lt;/artifactId&gt;	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;	&lt;name&gt;demo&lt;/name&gt;	&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;	&lt;properties&gt;		&lt;java.version&gt;11&lt;/java.version&gt;	&lt;/properties&gt;	&lt;dependencies&gt;		&lt;dependency&gt;			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;			&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;		&lt;/dependency&gt;		&lt;dependency&gt;			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;			&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;		&lt;/dependency&gt;		&lt;dependency&gt;			&lt;groupId&gt;com.h2database&lt;/groupId&gt;			&lt;artifactId&gt;h2&lt;/artifactId&gt;			&lt;scope&gt;runtime&lt;/scope&gt;		&lt;/dependency&gt;		&lt;dependency&gt;			&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;			&lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt;			&lt;scope&gt;runtime&lt;/scope&gt;		&lt;/dependency&gt;		&lt;dependency&gt;			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;			&lt;artifactId&gt;lombok&lt;/artifactId&gt;			&lt;optional&gt;true&lt;/optional&gt;		&lt;/dependency&gt;		&lt;dependency&gt;			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;			&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;			&lt;scope&gt;test&lt;/scope&gt;		&lt;/dependency&gt;		&lt;dependency&gt;			&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;			&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;			&lt;scope&gt;test&lt;/scope&gt;		&lt;/dependency&gt;	&lt;/dependencies&gt;	&lt;build&gt;		&lt;plugins&gt;			&lt;plugin&gt;				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;				&lt;configuration&gt;					&lt;excludes&gt;						&lt;exclude&gt;							&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;							&lt;artifactId&gt;lombok&lt;/artifactId&gt;						&lt;/exclude&gt;					&lt;/excludes&gt;				&lt;/configuration&gt;			&lt;/plugin&gt;		&lt;/plugins&gt;	&lt;/build&gt;	&lt;repositories&gt;		&lt;repository&gt;			&lt;id&gt;spring-milestones&lt;/id&gt;			&lt;name&gt;Spring Milestones&lt;/name&gt;			&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;			&lt;snapshots&gt;				&lt;enabled&gt;false&lt;/enabled&gt;			&lt;/snapshots&gt;		&lt;/repository&gt;	&lt;/repositories&gt;	&lt;pluginRepositories&gt;		&lt;pluginRepository&gt;			&lt;id&gt;spring-milestones&lt;/id&gt;			&lt;name&gt;Spring Milestones&lt;/name&gt;			&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;			&lt;snapshots&gt;				&lt;enabled&gt;false&lt;/enabled&gt;			&lt;/snapshots&gt;		&lt;/pluginRepository&gt;	&lt;/pluginRepositories&gt;&lt;/project&gt;Adding Spring GraphQLThe Spring GraphQL Team added a Spring starter project:&lt;dependencies&gt;    // Spring GraphQL Boot starter    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;        &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;        &lt;version&gt;1.0.0-M3&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- ... --&gt;&lt;/dependencies&gt;&lt;!-- For Spring project milestones or snapshot releases --&gt;&lt;repositories&gt;    &lt;repository&gt;        &lt;id&gt;spring-milestones&lt;/id&gt;        &lt;name&gt;Spring Milestones&lt;/name&gt;        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;    &lt;/repository&gt;    &lt;repository&gt;        &lt;id&gt;spring-snapshots&lt;/id&gt;        &lt;name&gt;Spring Snapshots&lt;/name&gt;        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;        &lt;snapshots&gt;            &lt;enabled&gt;true&lt;/enabled&gt;        &lt;/snapshots&gt;    &lt;/repository&gt;&lt;/repositories&gt;After adding this to the project we can start the implementation.Schema creationFollowing the schema first principle we will first add a GraphQL query for fetching companies:type Query {  companies: [Company]}type Company {  id: ID  name: String}The type “Query” is the root for all GraphQL queries (for more details see The Query and Mutation types). The type companies will return a list of items of the type Company.Company itself has two attributes:  ID =&gt; Numeric identifier of the company  name =&gt; The name of the companyThis schema will be stored in the file schema.graphqlsin the folder src/main/resources/graphql.GraphQL ControllerThe controller can simply be added by adding a @Controller annotation to the class. The most simple way to add the endpoint is to create a method inside this class with the same name like the name in the Query block of the schema: companiesThis method will be annotated with @QueryMapping:package arne.kroeger.springgraphqlwebfluxtestproject;import org.springframework.data.annotation.Id;import org.springframework.graphql.data.method.annotation.QueryMapping;import org.springframework.stereotype.Controller;import reactor.core.publisher.Flux;@Controllerpublic class CompanyController {    @QueryMapping    public Flux&lt;Company&gt; companies() {        return Flux.just(new Company(1L, &quot;Company A&quot;), new Company(2L, &quot;Company B&quot;));    }}record Company(@Id Long id, String name) {}If you need more details on how to handle Reactor types like Flux and Mono check out the following links:  Reactor Documentation  Intro To Reactor Core by BaeldungGraphiQL editorThe GraphiQL editor allows an easy access to the created API and delivers query editor, documentation and formatting options.It is automatically delivered with the Spring GraphQL starter via the url http://localhost:8080/graphiql.SummaryWhat we have achieved:  Setup of the Maven project via Spring starter  Adding experimental Spring GraphQL starter to the project  Creation of a GraphQL schema  Implementing a GraphQL Query endpoint as a Spring controllerIn Part 3 we will connect the Controller to the database via R2DBC.">
    <meta itemprop="datePublished" content="2021-11-14T08:22:49+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Spring GraphQL server based on webflux - Part 2 - Spring GraphQL on Webflux
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-11-14T08:22:49+00:00">November 14, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="retro">Retro</h2>

<p>In <a href="../../10/26/reactive-programming-with-spring-webflux-01-intro.html">Part 1</a> we introduced the general topics of reactive programming, webflux, GraphQL and R2DBC.</p>

<h2 id="spring-starter">Spring starter</h2>

<p>Let’s start with a standard <a href="https://start.spring.io/">Spring start setup</a>.</p>

<ul>
  <li>Project: Maven</li>
  <li>Language: Java (17)</li>
  <li>Spring: 2.6.0 (RC1)</li>
</ul>

<p>Dependencies:</p>

<ul>
  <li>Lombok</li>
  <li>Spring reactive web</li>
  <li>Spring Data R2DBC</li>
  <li>H2 Database</li>
</ul>

<p>The Maven pom.xml looks now like this:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
	<span class="nt">&lt;parent&gt;</span>
		<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
		<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;version&gt;</span>2.6.0-RC1<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;relativePath/&gt;</span> <span class="c">&lt;!-- lookup parent from repository --&gt;</span>
	<span class="nt">&lt;/parent&gt;</span>
	<span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>demo<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
	<span class="nt">&lt;name&gt;</span>demo<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;description&gt;</span>Demo project for Spring Boot<span class="nt">&lt;/description&gt;</span>
	<span class="nt">&lt;properties&gt;</span>
		<span class="nt">&lt;java.version&gt;</span>11<span class="nt">&lt;/java.version&gt;</span>
	<span class="nt">&lt;/properties&gt;</span>
	<span class="nt">&lt;dependencies&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-r2dbc<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-webflux<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>com.h2database<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>h2<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>io.r2dbc<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>r2dbc-h2<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>io.projectreactor<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>reactor-test<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
	<span class="nt">&lt;/dependencies&gt;</span>

	<span class="nt">&lt;build&gt;</span>
		<span class="nt">&lt;plugins&gt;</span>
			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;configuration&gt;</span>
					<span class="nt">&lt;excludes&gt;</span>
						<span class="nt">&lt;exclude&gt;</span>
							<span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
							<span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
						<span class="nt">&lt;/exclude&gt;</span>
					<span class="nt">&lt;/excludes&gt;</span>
				<span class="nt">&lt;/configuration&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>
		<span class="nt">&lt;/plugins&gt;</span>
	<span class="nt">&lt;/build&gt;</span>
	<span class="nt">&lt;repositories&gt;</span>
		<span class="nt">&lt;repository&gt;</span>
			<span class="nt">&lt;id&gt;</span>spring-milestones<span class="nt">&lt;/id&gt;</span>
			<span class="nt">&lt;name&gt;</span>Spring Milestones<span class="nt">&lt;/name&gt;</span>
			<span class="nt">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="nt">&lt;/url&gt;</span>
			<span class="nt">&lt;snapshots&gt;</span>
				<span class="nt">&lt;enabled&gt;</span>false<span class="nt">&lt;/enabled&gt;</span>
			<span class="nt">&lt;/snapshots&gt;</span>
		<span class="nt">&lt;/repository&gt;</span>
	<span class="nt">&lt;/repositories&gt;</span>
	<span class="nt">&lt;pluginRepositories&gt;</span>
		<span class="nt">&lt;pluginRepository&gt;</span>
			<span class="nt">&lt;id&gt;</span>spring-milestones<span class="nt">&lt;/id&gt;</span>
			<span class="nt">&lt;name&gt;</span>Spring Milestones<span class="nt">&lt;/name&gt;</span>
			<span class="nt">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="nt">&lt;/url&gt;</span>
			<span class="nt">&lt;snapshots&gt;</span>
				<span class="nt">&lt;enabled&gt;</span>false<span class="nt">&lt;/enabled&gt;</span>
			<span class="nt">&lt;/snapshots&gt;</span>
		<span class="nt">&lt;/pluginRepository&gt;</span>
	<span class="nt">&lt;/pluginRepositories&gt;</span>

<span class="nt">&lt;/project&gt;</span>
</code></pre></div></div>

<h2 id="adding-spring-graphql">Adding Spring GraphQL</h2>

<p>The Spring GraphQL Team added a Spring starter project:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>

    // Spring GraphQL Boot starter
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.experimental<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>graphql-spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.0.0-M3<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>

    <span class="c">&lt;!-- ... --&gt;</span>

<span class="nt">&lt;/dependencies&gt;</span>

<span class="c">&lt;!-- For Spring project milestones or snapshot releases --&gt;</span>
<span class="nt">&lt;repositories&gt;</span>
    <span class="nt">&lt;repository&gt;</span>
        <span class="nt">&lt;id&gt;</span>spring-milestones<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;name&gt;</span>Spring Milestones<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/repository&gt;</span>
    <span class="nt">&lt;repository&gt;</span>
        <span class="nt">&lt;id&gt;</span>spring-snapshots<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;name&gt;</span>Spring Snapshots<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;url&gt;</span>https://repo.spring.io/snapshot<span class="nt">&lt;/url&gt;</span>
        <span class="nt">&lt;snapshots&gt;</span>
            <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>
        <span class="nt">&lt;/snapshots&gt;</span>
    <span class="nt">&lt;/repository&gt;</span>
<span class="nt">&lt;/repositories&gt;</span>
</code></pre></div></div>

<p>After adding this to the project we can start the implementation.</p>

<h2 id="schema-creation">Schema creation</h2>

<p>Following the <a href="https://blog.graphqleditor.com/graphql-schemafirst-codefirst">schema first principle</a> we will first add a GraphQL query for fetching companies:</p>

<div class="language-graphql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">companies</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Company</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="k">type</span><span class="w"> </span><span class="n">Company</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nb">ID</span><span class="w">
  </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The type “Query” is the root for all GraphQL queries (for more details see <a href="https://graphql.org/learn/schema/#the-query-and-mutation-types">The Query and Mutation types</a>). The type companies will return a list of items of the type Company.</p>

<p>Company itself has two attributes:</p>

<ul>
  <li>ID =&gt; Numeric identifier of the company</li>
  <li>name =&gt; The name of the company</li>
</ul>

<p>This schema will be stored in the file <code class="language-plaintext highlighter-rouge">schema.graphqls</code>in the folder <code class="language-plaintext highlighter-rouge">src/main/resources/graphql</code>.</p>

<h2 id="graphql-controller">GraphQL Controller</h2>

<p>The controller can simply be added by adding a <code class="language-plaintext highlighter-rouge">@Controller</code> annotation to the class. The most simple way to add the endpoint is to create a method inside this class with the same name like the name in the Query block of the schema: companies</p>

<p>This method will be annotated with <code class="language-plaintext highlighter-rouge">@QueryMapping</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">arne.kroeger.springgraphqlwebfluxtestproject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.data.annotation.Id</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.graphql.data.method.annotation.QueryMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">reactor.core.publisher.Flux</span><span class="o">;</span>

<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CompanyController</span> <span class="o">{</span>

    <span class="nd">@QueryMapping</span>
    <span class="kd">public</span> <span class="nc">Flux</span><span class="o">&lt;</span><span class="nc">Company</span><span class="o">&gt;</span> <span class="nf">companies</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">Flux</span><span class="o">.</span><span class="na">just</span><span class="o">(</span><span class="k">new</span> <span class="nc">Company</span><span class="o">(</span><span class="mi">1L</span><span class="o">,</span> <span class="s">"Company A"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Company</span><span class="o">(</span><span class="mi">2L</span><span class="o">,</span> <span class="s">"Company B"</span><span class="o">));</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="n">record</span> <span class="nf">Company</span><span class="o">(</span><span class="nd">@Id</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">,</span> <span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>

<span class="o">}</span>
</code></pre></div></div>

<p>If you need more details on how to handle <a href="https://projectreactor.io/">Reactor</a> types like Flux and Mono check out the following links:</p>

<ul>
  <li><a href="https://projectreactor.io/docs/core/release/reference/">Reactor Documentation</a></li>
  <li><a href="https://www.baeldung.com/reactor-core">Intro To Reactor Core by Baeldung</a></li>
</ul>

<h2 id="graphiql-editor">GraphiQL editor</h2>

<p>The <a href="https://github.com/graphql/graphiql">GraphiQL</a> editor allows an easy access to the created API and delivers query editor, documentation and formatting options.</p>

<p>It is automatically delivered with the Spring GraphQL starter via the url <code class="language-plaintext highlighter-rouge">http://localhost:8080/graphiql</code>.</p>

<p><img src="../../../../assets/posts/spring-graphql/graphiql-companies.png" alt="GraphiQL query Editor" /></p>

<h3 id="summary">Summary</h3>

<p>What we have achieved:</p>

<ol>
  <li>Setup of the Maven project via Spring starter</li>
  <li>Adding experimental Spring GraphQL starter to the project</li>
  <li>Creation of a GraphQL schema</li>
  <li>Implementing a GraphQL Query endpoint as a Spring controller</li>
</ol>

<p>In Part 3 we will connect the Controller to the database via R2DBC.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="../../../../tags/index.html#graphql" class="page__taxonomy-item" rel="tag">graphql</a><span class="sep">, </span>
    
      <a href="../../../../tags/index.html#java" class="page__taxonomy-item" rel="tag">java</a><span class="sep">, </span>
    
      <a href="../../../../tags/index.html#reactive" class="page__taxonomy-item" rel="tag">reactive</a><span class="sep">, </span>
    
      <a href="../../../../tags/index.html#spring" class="page__taxonomy-item" rel="tag">spring</a><span class="sep">, </span>
    
      <a href="../../../../tags/index.html#webflux" class="page__taxonomy-item" rel="tag">webflux</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="../../../../categories/index.html#spring-webflux-graphql-tutorial" class="page__taxonomy-item" rel="tag">Spring-Webflux-GraphQL-Tutorial</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-11-14T08:22:49+00:00">November 14, 2021</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Spring+GraphQL+server+based+on+webflux+-+Part+2+-+Spring+GraphQL+on+Webflux%20https%3A%2F%2Farne-kroeger.github.io%2Fspring-webflux-graphql-tutorial%2F2021%2F11%2F14%2Freactive-programming-with-spring-webflux-02-getting-started.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Farne-kroeger.github.io%2Fspring-webflux-graphql-tutorial%2F2021%2F11%2F14%2Freactive-programming-with-spring-webflux-02-getting-started.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Farne-kroeger.github.io%2Fspring-webflux-graphql-tutorial%2F2021%2F11%2F14%2Freactive-programming-with-spring-webflux-02-getting-started.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="../../10/26/reactive-programming-with-spring-webflux-01-intro.html" class="pagination--pager" title="Spring GraphQL server based on webflux - Part 1 - Intro
">Previous</a>
    
    
      <a href="../../../../spring/2022/05/10/how-to-deal-with-spring-redis-json-security-module.html" class="pagination--pager" title="Spring Session Redis JSON with Keycloak - A journey with the allowlist of Jackson
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <section id="giscus-comments"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="../../../../spring/2022/05/10/how-to-deal-with-spring-redis-json-security-module.html" rel="permalink">Spring Session Redis JSON with Keycloak - A journey with the allowlist of Jackson
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-05-10T12:22:49+00:00">May 10, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What happened?

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="../../10/26/reactive-programming-with-spring-webflux-01-intro.html" rel="permalink">Spring GraphQL server based on webflux - Part 1 - Intro
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-10-26T17:13:49+00:00">October 26, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Reactive programming

Reactive programming is a programming paradigm and has several implementation especially in the frontend world (e.g. VueJS, Angular, Re...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="../../../../general/2021/10/25/why-this-blog.html" rel="permalink">Another why this blog entry…
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-10-25T10:13:49+00:00">October 25, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">After years of enjoying the beautiful work others have done and contributed to the community it is time to give something back to all of you. The pure usage ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="../../../../feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 DevSpot Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="../../../../assets/js/main.min.js"></script>




<script src="../../../../assets/js/lunr/lunr.min.js"></script>
<script src="../../../../assets/js/lunr/lunr-store.js"></script>
<script src="../../../../assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function () {
    var commentContainer = document.querySelector('#giscus-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://giscus.app/client.js');
    script.setAttribute('data-repo', 'arne-kroeger/arne-kroeger.github.io');
    script.setAttribute('data-repo-id', 'R_kgDOGRmbZg');
    script.setAttribute('data-category', 'Announcements');
    script.setAttribute('data-category-id', 'DIC_kwDOGRmbZs4B_k3c');
    script.setAttribute('data-mapping', 'pathname');
    script.setAttribute('data-reactions-enabled', '1');
    script.setAttribute('data-theme', 'light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>
  





  </body>
</html>
